(function(){"use strict";var t={389:function(t,n,e){var r=e(5130),o=e(6768),a=e(5955),u=e(144),s=e.p+"img/logo-hexagon.d2768201.svg";const c={class:"nav-bar"},i={class:"logo-wrap"},l=["src"],d={class:"nav-buttons-wrap"};var p={__name:"NavBar",props:{user:{default:null}},setup(t){const n=t,e=()=>{const t=(0,a.xI)();(0,a.CI)(t)};return(t,r)=>{const a=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",c,[(0,o.bF)(a,{to:"/products",class:"products-link"},{default:(0,o.k6)((()=>[(0,o.Lk)("div",i,[(0,o.Lk)("img",{src:(0,u.R1)(s)},null,8,l)])])),_:1}),(0,o.Lk)("div",d,[n.user?((0,o.uX)(),(0,o.CE)("button",{key:0,onClick:r[0]||(r[0]=(...t)=>e&&e(...t))},"Sign Out")):(0,o.Q3)("",!0),(0,o.bF)(a,{to:"/cart"},{default:(0,o.k6)((()=>r[1]||(r[1]=[(0,o.Lk)("button",null,"Shopping Cart",-1)]))),_:1,__:[1]})])])}}};const v=p;var f=v;const _={class:"page-wrap"};var g={__name:"App",setup(t){const n=(0,u.KR)(null);return(0,o.sV)((()=>{const t=(0,a.xI)();(0,a.hg)(t,(t=>{n.value=t}))})),(t,e)=>{const r=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(f,{user:n.value},null,8,["user"]),(0,o.Lk)("div",_,[(0,o.bF)(r,{user:n.value},null,8,["user"])])],64)}}};const m=g;var E=m,k=e(1387),h=e(4373),y=e(4232);const b=["src"],w={class:"details-wrap"},C=["onClick"];var A={__name:"ShoppingCartList",props:{products:{type:Array,default:()=>[]},onRemove:{type:Function,default:()=>{}}},setup(t){const n=t;return(t,e)=>((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.products,(t=>((0,o.uX)(),(0,o.CE)("div",{key:t.id,class:"product-container"},[(0,o.Lk)("img",{src:t.imageUrl,class:"product-image"},null,8,b),(0,o.Lk)("div",w,[(0,o.Lk)("h3",null,(0,y.v_)(t.name),1),(0,o.Lk)("p",null,(0,y.v_)(t.price),1)]),(0,o.Lk)("button",{onClick:()=>n.onRemove(t.id),class:"remove-button"},"Remove from cart",8,C)])))),128))}};const L=A;var P=L;const I={key:0},S={key:1};var O={__name:"ShoppingCardPage",props:{user:{default:null}},setup(t){const n=t,e=(0,u.KR)([]),r=async t=>{const r=await h.A.delete(`/api/users/${n.user.uid}/cart/${t}`);e.value=r?.data??[]};return(0,o.KC)((async()=>{const t=await h.A.get(`/api/users/${n.user.uid}/cart`);e.value=t?.data??[]})),(0,o.wB)(n.user,(async t=>{if(t){const n=await h.A.get(`/api/users/${t.uid}/cart`);e.value=n?.data??[]}})),(t,n)=>((0,o.uX)(),(0,o.CE)(o.FK,null,[n[1]||(n[1]=(0,o.Lk)("h1",null,"Shopping card",-1)),e.value.length>0?((0,o.uX)(),(0,o.CE)("div",I,[(0,o.bF)(P,{products:e.value,"on-remove":r},null,8,["products"]),n[0]||(n[0]=(0,o.Lk)("button",{class:"checkout-button"},"Proceed to Checkout",-1))])):((0,o.uX)(),(0,o.CE)("div",S," You currently have no items in your cart! "))],64))}};const N=O;var R=N;const K={class:"grid-wrap"},U=["src"],X={class:"product-name"},F={class:"product-price"};var D={__name:"ProductsList",props:{products:{type:Array,default:()=>[]}},setup(t){const n=t;return(t,e)=>{const r=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",K,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.products,(t=>((0,o.uX)(),(0,o.CE)("div",{key:t.id,class:"product-item"},[(0,o.Lk)("img",{src:t.imageUrl},null,8,U),(0,o.Lk)("h3",X,(0,y.v_)(t.name),1),(0,o.Lk)("p",F,(0,y.v_)(t.price),1),(0,o.bF)(r,{to:`/products/${t.id}`},{default:(0,o.k6)((()=>e[0]||(e[0]=[(0,o.Lk)("button",null,"View Details",-1)]))),_:2,__:[0]},1032,["to"])])))),128))])}}};const V=D;var B=V,$={__name:"ProductsPage",setup(t){const n=(0,u.KR)([]);return(0,o.KC)((async()=>{const t=await h.A.get("/api/products");n.value=t?.data??[]})),(t,e)=>((0,o.uX)(),(0,o.CE)(o.FK,null,[e[0]||(e[0]=(0,o.Lk)("h1",null,"Products",-1)),(0,o.bF)(B,{products:n.value},null,8,["products"])],64))}};const j=$;var x=j;e(8111),e(116);function T(t,n){return(0,o.uX)(),(0,o.CE)("h1",null,"404: Page Not Found")}var M=e(1241);const G={},Q=(0,M.A)(G,[["render",T]]);var Y=Q;const q={key:0},H={key:1},J={class:"img-wrap"},W=["src"],z={class:"product-details"},Z={class:"price"},tt=["disabled"];var nt={__name:"ProductDetailPage",props:{user:{default:null}},setup(t){const n=(0,k.lq)(),e=(0,u.KR)(null),r=(0,u.KR)(!1),s=t,c=async()=>{await h.A.post(`/api/users/${s.user.uid}/cart`,{id:n.params.productId}),alert("Item is added to cart!"),r.value=!0},i=async()=>{const t=prompt("Please enter your email to sign in:"),e=(0,a.xI)(),r={url:`https://full-stack-vue-course-0001.onrender.com/products/${n.params.productId}`,handleCodeInApp:!0};await(0,a.MN)(e,t,r),alert("A login link was set to the email you provided"),window.localStorage.setItem("signInEmail",t)};return(0,o.KC)((async()=>{const t=(0,a.xI)();if((0,a.Pj)(t,window.location.href)){const n=window.localStorage.getItem("signInEmail");await(0,a.hK)(t,n,window.location.href),alert("Successfully signed in!"),window.localStorage.removeItem("signInEmail")}const o=await h.A.get(`/api/products/${n.params.productId}`);if(e.value=o?.data??null,s.user){const t=await h.A.get(`/api/users/${s.user.uid}/cart`);r.value=!!t?.data?.find((t=>t.id==e.value.id))}})),(0,o.wB)(s.user,(async t=>{if(t){const n=await h.A.get(`/api/users/${t.uid}/cart`);r.value=!!n?.data?.find((t=>t.id==e.value.id))}})),(t,n)=>e.value?((0,o.uX)(),(0,o.CE)("div",H,[(0,o.Lk)("div",J,[(0,o.Lk)("img",{src:`/${e.value.imageUrl}`},null,8,W)]),(0,o.Lk)("div",z,[(0,o.Lk)("h1",null,(0,y.v_)(e.value.name),1),(0,o.Lk)("h3",Z,(0,y.v_)(e.value.price),1),s.user?((0,o.uX)(),(0,o.CE)("button",{key:0,onClick:c,disabled:r.value,class:"add-to-cart"},(0,y.v_)(r.value?"Item already in cart":"Add to cart"),9,tt)):(0,o.Q3)("",!0),s.user?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("button",{key:1,onClick:i,class:"sign-in"},"Sign in to add to cart"))])])):((0,o.uX)(),(0,o.CE)("div",q,[(0,o.bF)(Y)]))}};const et=nt;var rt=et,ot=e(6400);const at={apiKey:{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_API_KEY,authDomain:{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_AUTH_DOMAIN,projectId:{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_PORJECT_ID,storageBucket:{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_STORAGE_BUCKET,messagingSenderId:{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_MESSAGING_SENDER_ID,appId:{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_APP_ID};(0,ot.Wp)(at),(0,r.Ef)(E).use(k.aE({history:k.LA("/"),routes:[{path:"/cart",component:R},{path:"/products",component:x},{path:"/products/:productId",component:rt},{path:"/",redirect:"/products"},{path:"/:pathMatch(.*)*",component:Y}]})).mount("#app")}},n={};function e(r){var o=n[r];if(void 0!==o)return o.exports;var a=n[r]={exports:{}};return t[r].call(a.exports,a,a.exports,e),a.exports}e.m=t,function(){var t=[];e.O=function(n,r,o,a){if(!r){var u=1/0;for(l=0;l<t.length;l++){r=t[l][0],o=t[l][1],a=t[l][2];for(var s=!0,c=0;c<r.length;c++)(!1&a||u>=a)&&Object.keys(e.O).every((function(t){return e.O[t](r[c])}))?r.splice(c--,1):(s=!1,a<u&&(u=a));if(s){t.splice(l--,1);var i=o();void 0!==i&&(n=i)}}return n}a=a||0;for(var l=t.length;l>0&&t[l-1][2]>a;l--)t[l]=t[l-1];t[l]=[r,o,a]}}(),function(){e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,{a:n}),n}}(),function(){e.d=function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)}}(),function(){e.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){e.p="/"}(),function(){var t={524:0};e.O.j=function(n){return 0===t[n]};var n=function(n,r){var o,a,u=r[0],s=r[1],c=r[2],i=0;if(u.some((function(n){return 0!==t[n]}))){for(o in s)e.o(s,o)&&(e.m[o]=s[o]);if(c)var l=c(e)}for(n&&n(r);i<u.length;i++)a=u[i],e.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return e.O(l)},r=self["webpackChunkfront_end"]=self["webpackChunkfront_end"]||[];r.forEach(n.bind(null,0)),r.push=n.bind(null,r.push.bind(r))}();var r=e.O(void 0,[504],(function(){return e(389)}));r=e.O(r)})();
//# sourceMappingURL=app.2945517a.js.map
(function(){"use strict";var t={389:function(t,e,r){var a=r(5130),n=r(6768),o=r(5955),u=r(144),s=r.p+"img/logo-hexagon.d2768201.svg";const c={class:"nav-bar"},i={class:"logo-wrap"},l=["src"],d={class:"nav-buttons-wrap"};var p={__name:"NavBar",props:{user:{default:null}},setup(t){const e=t,r=()=>{const t=(0,o.xI)();(0,o.CI)(t)};return(t,a)=>{const o=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",c,[(0,n.bF)(o,{to:"/products",class:"products-link"},{default:(0,n.k6)((()=>[(0,n.Lk)("div",i,[(0,n.Lk)("img",{src:(0,u.R1)(s)},null,8,l)])])),_:1}),(0,n.Lk)("div",d,[e.user?((0,n.uX)(),(0,n.CE)("button",{key:0,onClick:a[0]||(a[0]=(...t)=>r&&r(...t))},"Sign Out")):(0,n.Q3)("",!0),(0,n.bF)(o,{to:"/cart"},{default:(0,n.k6)((()=>a[1]||(a[1]=[(0,n.Lk)("button",null,"Shopping Cart",-1)]))),_:1,__:[1]})])])}}};const v=p;var f=v;const g={class:"page-wrap"};var m={__name:"App",setup(t){const e=(0,u.KR)(null);return(0,n.sV)((()=>{const t=(0,o.xI)();(0,o.hg)(t,(t=>{e.value=t}))})),(t,r)=>{const a=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.bF)(f,{user:e.value},null,8,["user"]),(0,n.Lk)("div",g,[(0,n.bF)(a,{user:e.value},null,8,["user"])])],64)}}};const _=m;var k=_,b=r(1387),h=r(4373),y=r(4232);const w=["src"],E={class:"details-wrap"},C=["onClick"];var P={__name:"ShoppingCartList",props:{products:{type:Array,default:()=>[]},onRemove:{type:Function,default:()=>{}}},setup(t){const e=t;return(t,r)=>((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.products,(t=>((0,n.uX)(),(0,n.CE)("div",{key:t.id,class:"product-container"},[(0,n.Lk)("img",{src:t.imageUrl,class:"product-image"},null,8,w),(0,n.Lk)("div",E,[(0,n.Lk)("h3",null,(0,y.v_)(t.name),1),(0,n.Lk)("p",null,(0,y.v_)(t.price),1)]),(0,n.Lk)("button",{onClick:()=>e.onRemove(t.id),class:"remove-button"},"Remove from cart",8,C)])))),128))}};const A=P;var I=A;const L={key:0},S={key:1};var K={__name:"ShoppingCardPage",props:{user:{default:null}},setup(t){const e=t,r=(0,u.KR)([]),a=async t=>{const a=await h.A.delete(`/api/users/${e.user.uid}/cart/${t}`);r.value=a?.data??[]};return(0,n.KC)((async()=>{const t=await h.A.get(`/api/users/${e.user.uid}/cart`);r.value=t?.data??[]})),(0,n.wB)(e.user,(async t=>{if(t){const e=await h.A.get(`/api/users/${t.uid}/cart`);r.value=e?.data??[]}})),(t,e)=>((0,n.uX)(),(0,n.CE)(n.FK,null,[e[1]||(e[1]=(0,n.Lk)("h1",null,"Shopping card",-1)),r.value.length>0?((0,n.uX)(),(0,n.CE)("div",L,[(0,n.bF)(I,{products:r.value,"on-remove":a},null,8,["products"]),e[0]||(e[0]=(0,n.Lk)("button",{class:"checkout-button"},"Proceed to Checkout",-1))])):((0,n.uX)(),(0,n.CE)("div",S," You currently have no items in your cart! "))],64))}};const O=K;var F=O;const X={class:"grid-wrap"},R=["src"],U={class:"product-name"},D={class:"product-price"};var $={__name:"ProductsList",props:{products:{type:Array,default:()=>[]}},setup(t){const e=t;return(t,r)=>{const a=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",X,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.products,(t=>((0,n.uX)(),(0,n.CE)("div",{key:t.id,class:"product-item"},[(0,n.Lk)("img",{src:t.imageUrl},null,8,R),(0,n.Lk)("h3",U,(0,y.v_)(t.name),1),(0,n.Lk)("p",D,(0,y.v_)(t.price),1),(0,n.bF)(a,{to:`/products/${t.id}`},{default:(0,n.k6)((()=>r[0]||(r[0]=[(0,n.Lk)("button",null,"View Details",-1)]))),_:2,__:[0]},1032,["to"])])))),128))])}}};const j=$;var x=j,V={__name:"ProductsPage",setup(t){const e=(0,u.KR)([]);return(0,n.KC)((async()=>{const t=await h.A.get("/api/products");e.value=t?.data??[]})),(t,r)=>((0,n.uX)(),(0,n.CE)(n.FK,null,[r[0]||(r[0]=(0,n.Lk)("h1",null,"Products",-1)),(0,n.bF)(x,{products:e.value},null,8,["products"])],64))}};const T=V;var B=T;r(8111),r(116);function N(t,e){return(0,n.uX)(),(0,n.CE)("h1",null,"404: Page Not Found")}var M=r(1241);const J={},Y=(0,M.A)(J,[["render",N]]);var G=Y;const Q={key:0},z={key:1},H={class:"img-wrap"},q=["src"],W={class:"product-details"},Z={class:"price"},tt=["disabled"];var et={__name:"ProductDetailPage",props:{user:{default:null}},setup(t){const e=(0,b.lq)(),r=(0,u.KR)(null),a=(0,u.KR)(!1),s=t,c=async()=>{await h.A.post(`/api/users/${s.user.uid}/cart`,{id:e.params.productId}),alert("Item is added to cart!"),a.value=!0},i=async()=>{const t=prompt("Please enter your email to sign in:"),r=(0,o.xI)(),a={url:`https://full-stack-vue-course-0001.onrender.com/products/${e.params.productId}`,handleCodeInApp:!0};await(0,o.MN)(r,t,a),alert("A login link was set to the email you provided"),window.localStorage.setItem("signInEmail",t)};return(0,n.KC)((async()=>{const t=(0,o.xI)();if((0,o.Pj)(t,window.location.href)){const e=window.localStorage.getItem("signInEmail");await(0,o.hK)(t,e,window.location.href),alert("Successfully signed in!"),window.localStorage.removeItem("signInEmail")}const n=await h.A.get(`/api/products/${e.params.productId}`);if(r.value=n?.data??null,s.user){const t=await h.A.get(`/api/users/${s.user.uid}/cart`);a.value=!!t?.data?.find((t=>t.id==r.value.id))}})),(0,n.wB)(s.user,(async t=>{if(t){const e=await h.A.get(`/api/users/${t.uid}/cart`);a.value=!!e?.data?.find((t=>t.id==r.value.id))}})),(t,e)=>r.value?((0,n.uX)(),(0,n.CE)("div",z,[(0,n.Lk)("div",H,[(0,n.Lk)("img",{src:`/${r.value.imageUrl}`},null,8,q)]),(0,n.Lk)("div",W,[(0,n.Lk)("h1",null,(0,y.v_)(r.value.name),1),(0,n.Lk)("h3",Z,(0,y.v_)(r.value.price),1),s.user?((0,n.uX)(),(0,n.CE)("button",{key:0,onClick:c,disabled:a.value,class:"add-to-cart"},(0,y.v_)(a.value?"Item already in cart":"Add to cart"),9,tt)):(0,n.Q3)("",!0),s.user?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("button",{key:1,onClick:i,class:"sign-in"},"Sign in to add to cart"))])])):((0,n.uX)(),(0,n.CE)("div",Q,[(0,n.bF)(G)]))}};const rt=et;var at=rt,nt=r(6400);const ot={apiKey:"AIzaSyBbwYoFhw3oOgKuXJpF-cGbYH6QJzcDKL0",authDomain:"recipesraiko-9bff3.firebaseapp.com",projectId:{NODE_ENV:"production",VUE_APP_API_KEY:"AIzaSyBbwYoFhw3oOgKuXJpF-cGbYH6QJzcDKL0",VUE_APP_APP_ID:"1:40216931005:web:0d4982519a3d150e11a5d",VUE_APP_AUTH_DOMAIN:"recipesraiko-9bff3.firebaseapp.com",VUE_APP_MESSAGING_SENDER_ID:"40216931005",VUE_APP_PROJECT_ID:"recipesraiko-9bff3",VUE_APP_STORAGE_BUCKET:"recipesraiko-9bff3.firebasestorage.app",BASE_URL:"/"}.VUE_APP_PORJECT_ID,storageBucket:"recipesraiko-9bff3.firebasestorage.app",messagingSenderId:"40216931005",appId:"1:40216931005:web:0d4982519a3d150e11a5d"};(0,nt.Wp)(ot),(0,a.Ef)(k).use(b.aE({history:b.LA("/"),routes:[{path:"/cart",component:F},{path:"/products",component:B},{path:"/products/:productId",component:at},{path:"/",redirect:"/products"},{path:"/:pathMatch(.*)*",component:G}]})).mount("#app")}},e={};function r(a){var n=e[a];if(void 0!==n)return n.exports;var o=e[a]={exports:{}};return t[a].call(o.exports,o,o.exports,r),o.exports}r.m=t,function(){var t=[];r.O=function(e,a,n,o){if(!a){var u=1/0;for(l=0;l<t.length;l++){a=t[l][0],n=t[l][1],o=t[l][2];for(var s=!0,c=0;c<a.length;c++)(!1&o||u>=o)&&Object.keys(r.O).every((function(t){return r.O[t](a[c])}))?a.splice(c--,1):(s=!1,o<u&&(u=o));if(s){t.splice(l--,1);var i=n();void 0!==i&&(e=i)}}return e}o=o||0;for(var l=t.length;l>0&&t[l-1][2]>o;l--)t[l]=t[l-1];t[l]=[a,n,o]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var a in e)r.o(e,a)&&!r.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){r.p="/"}(),function(){var t={524:0};r.O.j=function(e){return 0===t[e]};var e=function(e,a){var n,o,u=a[0],s=a[1],c=a[2],i=0;if(u.some((function(e){return 0!==t[e]}))){for(n in s)r.o(s,n)&&(r.m[n]=s[n]);if(c)var l=c(r)}for(e&&e(a);i<u.length;i++)o=u[i],r.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return r.O(l)},a=self["webpackChunkfront_end"]=self["webpackChunkfront_end"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=r.O(void 0,[504],(function(){return r(389)}));a=r.O(a)})();
//# sourceMappingURL=app.acfa14f9.js.map